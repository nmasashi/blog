---
layout: post
title: "単体テストの考え方/使い方"
date: 2025-06-04
categories: reading
---

# 第 1 章 なぜ、単体テストを行うのか

- 単体テストをすることでソフトウェア開発プロジェクトを持続可能にするため
  → 持続可能とはソースの変更が会った際に、退行した機能がないか検出できているかが大きい

テストの品質が悪い場合はテストなしと同じようにプロジェクトは停滞する可能性がある。
単体テストがどのように、このプロジェクトを助けるのかの理解をしていないと品質が低いテストになるリスクが大きくなる。

テストスイート：目的や対象ごとにテスト・ケースを集めたもの

テストの網羅率(coverage)はテスト・スイートの質の良さを示すことができるものではない（悪さを示すことはできる）。

コード網羅率ではテストで実行された行数の割合が算出される。しかし、三項演算子などで一行で二つの条件分岐があるようなコードは想定している網羅率にならないことがある。
分岐網羅率を図ることで対応することはできる。

網羅率が高くてもテストスイートの質がいいとは言えない理由

- ただその行を通っただけで何かを確かめた（テスト）したとは限らない
- ライブラリを使用した場合、ライブラリ内のコードは網羅率の計算には入らない

網羅率は目標にするのではなく、テストが十分に実施されていない指標にするべき

テストスイートの品質をあげるには、結局のところテストケースをひとつづつ評価していくしかない。

テストの実施は開発サイクルの中に含まれる必要がある

システムの重要なビジネスロジックに対するテストに時間を費やすべき。それ以外の部分は簡易なものか間接的なものでも OK

単体テストで最小限の保守コストで最大限の効果を生み出すには

- 価値あるテストケースを認識できること
- 価値あるテストケースを作成できること

# 第 2 章 単体テストとは何か？
