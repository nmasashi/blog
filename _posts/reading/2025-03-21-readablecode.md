---
layout: post
title: "リーダブルコード"
date: 2025-03-20
categories: reading
---

## 1 章 理解しやすいコード

1.1

三項演算子か if else だと if else の方が見やすい気がするけど、三項演算子を使ってしまう。。。

1.2

**_コードは他の人が最短時間で理解できるように書かなければならない_**

ここで言う「理解する」とは変更を加えたりバグを見つけれるかという意味。

1.3

コードは短い方がいいことも多いが、理解するまでの時間を短くする方が優先される。
例えば、一行に"()"の入れ子が多いプログラムは理解が遅くなる。

```c
//短いけど読みにくい
assert((!(bucket = FindBucket(key))) || !bucket->IsOccupied());

//こっちのが長いけど読みやすい
bucket = FindBucket(key);
if(bucket != NULL) assert(!bucket -> IsOccupied());
```

## 2 章 名前に情報を詰め込む

- 明確な単語を選ぶ
- 汎用的な名前を避ける
- 抽象的な名前よりも具体的な名前を使用する
- 接尾語や接頭語を使用して情報を追加する
- 名前の長さを決める
- 名前のフォーマットで情報を伝える

  2.1

明確な単語を使用する

```C
//停止後に再開可能かわからない
void stop(){...}

//再開できないのがわかる
void kill(){...}

//再開できるのがわかる
void pause(){...}
```

2.2

汎用的な変数名(tmp など)は避ける。ただし、tmp に限って言えば一時的な情報の保管が目的である場合は使用しても OK

```js
// このtmpの使い方はOK
if(right < left>){
  tmp = right;
  right = left;
  left = tmp;
}
```

イテレータとして i, j などが使用される場合も OK。ただ user_i, club_j といったように情報を足すことで理解がしやすくなることもある。

2.4

変数名に情報を付与してわかりやすくする

```js
// 単位がわからない
var start;

// 単位がミリ秒だとわかる
var start_ms;
```

2.5

変数名はスコープが小さければ短い名前でも問題はない。
単語を省略する場合は一般的に省略されている単語(`string`→`str`)などは OK。
プロジェクト個有名詞は省略しない方がいよい。

2.6

名前のフォーマットで役割がわかるようにする。

- キャメルケースは変数名(例：lower_separated)
- 全部大文字は定数（例：MAX_COUNT）

## 3 章 誤解されない名前

```js
// resultに0未満の数が入るのか、そうではない数がはいるのかいまいちわからない
result = numbers.filter(num < 0);

// こっちの方がわかりやすい
result = numbers.select(num < 0);
```

限界値を定数化したい場合は`min`または`max`を使用する

範囲を指定するときは`first`, `end`または`begin`,`end`を使用する

bool 値が格納される変数には頭に`is/has/can/should`などを付ける

`get(), size()`といったメソッドは軽量であることが期待される

## 4 章 美しさ
